<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iDynTree: iDynTree::DiscreteKalmanFilterHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iDynTree
   </div>
   <div id="projectbrief">Free floating robots dynamics library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classiDynTree_1_1DiscreteKalmanFilterHelper.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classiDynTree_1_1DiscreteKalmanFilterHelper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iDynTree::DiscreteKalmanFilterHelper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Discrete Kalman Filter with additive Gaussian noise.  
 <a href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#details">More...</a></p>

<p><code>#include &lt;KalmanFilter.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6e92e6097a9c72d5112dd132d2ea2a0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a6e92e6097a9c72d5112dd132d2ea2a0c">DiscreteKalmanFilterHelper</a> ()</td></tr>
<tr class="separator:a6e92e6097a9c72d5112dd132d2ea2a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa21afff6cf2dbf26aa40456f5f19cd03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#aa21afff6cf2dbf26aa40456f5f19cd03">constructKalmanFilter</a> (const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;A, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;B, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;C, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;D)</td></tr>
<tr class="memdesc:aa21afff6cf2dbf26aa40456f5f19cd03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes the state propagation for a given dynamical system and the measurement model given the available measurements.  <a href="#aa21afff6cf2dbf26aa40456f5f19cd03">More...</a><br /></td></tr>
<tr class="separator:aa21afff6cf2dbf26aa40456f5f19cd03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a72b101b740dadfc402ec8afb0c1e24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a8a72b101b740dadfc402ec8afb0c1e24">constructKalmanFilter</a> (const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;A, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;B, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;C)</td></tr>
<tr class="memdesc:a8a72b101b740dadfc402ec8afb0c1e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="#a8a72b101b740dadfc402ec8afb0c1e24">More...</a><br /></td></tr>
<tr class="separator:a8a72b101b740dadfc402ec8afb0c1e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4495421947a0c45dce66302dea1131"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a3b4495421947a0c45dce66302dea1131">constructKalmanFilter</a> (const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;A, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;C)</td></tr>
<tr class="memdesc:a3b4495421947a0c45dce66302dea1131"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="#a3b4495421947a0c45dce66302dea1131">More...</a><br /></td></tr>
<tr class="separator:a3b4495421947a0c45dce66302dea1131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9352a67f115714e8c1b33fa31bfe35e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a9352a67f115714e8c1b33fa31bfe35e4">kfSetInitialState</a> (const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;x0)</td></tr>
<tr class="memdesc:a9352a67f115714e8c1b33fa31bfe35e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set initial state of the Kalman filter.  <a href="#a9352a67f115714e8c1b33fa31bfe35e4">More...</a><br /></td></tr>
<tr class="separator:a9352a67f115714e8c1b33fa31bfe35e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9d8650d8f0f69a75a85cf7297a449c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a9d9d8650d8f0f69a75a85cf7297a449c">kfSetStateCovariance</a> (const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;P)</td></tr>
<tr class="memdesc:a9d9d8650d8f0f69a75a85cf7297a449c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the state covariance matrix.  <a href="#a9d9d8650d8f0f69a75a85cf7297a449c">More...</a><br /></td></tr>
<tr class="separator:a9d9d8650d8f0f69a75a85cf7297a449c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab827cf616cbc08e7cb4ced4e00454cdb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#ab827cf616cbc08e7cb4ced4e00454cdb">kfSetSystemNoiseCovariance</a> (const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;Q)</td></tr>
<tr class="memdesc:ab827cf616cbc08e7cb4ced4e00454cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the system noise covariance matrix.  <a href="#ab827cf616cbc08e7cb4ced4e00454cdb">More...</a><br /></td></tr>
<tr class="separator:ab827cf616cbc08e7cb4ced4e00454cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f38e366f4cdec7dde0d1ef7a07b08a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#ab6f38e366f4cdec7dde0d1ef7a07b08a">kfSetMeasurementNoiseCovariance</a> (const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;R)</td></tr>
<tr class="memdesc:ab6f38e366f4cdec7dde0d1ef7a07b08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the measurement noise covariance matrix.  <a href="#ab6f38e366f4cdec7dde0d1ef7a07b08a">More...</a><br /></td></tr>
<tr class="separator:ab6f38e366f4cdec7dde0d1ef7a07b08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84517077a1e6cda8d31ebc9692c472e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a84517077a1e6cda8d31ebc9692c472e6">kfInit</a> ()</td></tr>
<tr class="memdesc:a84517077a1e6cda8d31ebc9692c472e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks if the filter is properly constructed and configured i.e.  <a href="#a84517077a1e6cda8d31ebc9692c472e6">More...</a><br /></td></tr>
<tr class="separator:a84517077a1e6cda8d31ebc9692c472e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2a1a9a2b6325fb9607cd03eac3264d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#acb2a1a9a2b6325fb9607cd03eac3264d">kfSetInputVector</a> (const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;u)</td></tr>
<tr class="memdesc:acb2a1a9a2b6325fb9607cd03eac3264d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set inputs for the Kalman filter.  <a href="#acb2a1a9a2b6325fb9607cd03eac3264d">More...</a><br /></td></tr>
<tr class="separator:acb2a1a9a2b6325fb9607cd03eac3264d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d9614df8c118dfc724299580c6b1f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a62d9614df8c118dfc724299580c6b1f2">kfPredict</a> ()</td></tr>
<tr class="memdesc:a62d9614df8c118dfc724299580c6b1f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs one step of the Discrete Kalman Filter prediction equation described by \( \hat{x}_{k+1} = A x_{k} + B u_{k} \) \( \hat{P}_{k+1} = A_k P_k A_k^T + Q \).  <a href="#a62d9614df8c118dfc724299580c6b1f2">More...</a><br /></td></tr>
<tr class="separator:a62d9614df8c118dfc724299580c6b1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31fb466481343f57b98864ba81b2c50"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#af31fb466481343f57b98864ba81b2c50">kfSetMeasurementVector</a> (const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;y)</td></tr>
<tr class="memdesc:af31fb466481343f57b98864ba81b2c50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set measurements for the Kalman filter.  <a href="#af31fb466481343f57b98864ba81b2c50">More...</a><br /></td></tr>
<tr class="separator:af31fb466481343f57b98864ba81b2c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27141bb647a7b20076d054ee4fe0f912"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a27141bb647a7b20076d054ee4fe0f912">kfUpdate</a> ()</td></tr>
<tr class="memdesc:a27141bb647a7b20076d054ee4fe0f912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs one step of the Discrete Kalman Filter update equation described by \( \tilde{y}_{k+1} = C \hat{x}_{k+1} + D u_{k} \) \( x_{k+1} = \hat{x}_{k+1} + K_{k+1}(\tilde{y}_{k+1} - z_{k+1}) \) \( P_{k+1} = (I - K_{k+1} C) \hat{P}_{k+1} \) where K is the Kalman gain.  <a href="#a27141bb647a7b20076d054ee4fe0f912">More...</a><br /></td></tr>
<tr class="separator:a27141bb647a7b20076d054ee4fe0f912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd296039a06a6d90477648be49b1ddbf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#afd296039a06a6d90477648be49b1ddbf">kfGetStates</a> (<a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;x)</td></tr>
<tr class="memdesc:afd296039a06a6d90477648be49b1ddbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get system state.  <a href="#afd296039a06a6d90477648be49b1ddbf">More...</a><br /></td></tr>
<tr class="separator:afd296039a06a6d90477648be49b1ddbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b76a7de3f01be1b70cfe792939c321"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a47b76a7de3f01be1b70cfe792939c321">kfGetStateCovariance</a> (<a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;P)</td></tr>
<tr class="memdesc:a47b76a7de3f01be1b70cfe792939c321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get system state covariance.  <a href="#a47b76a7de3f01be1b70cfe792939c321">More...</a><br /></td></tr>
<tr class="separator:a47b76a7de3f01be1b70cfe792939c321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee09e0a76acfbf37443c26a58ab3100"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a0ee09e0a76acfbf37443c26a58ab3100">kfReset</a> ()</td></tr>
<tr class="memdesc:a0ee09e0a76acfbf37443c26a58ab3100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset Kalman filter Resets the Kalman filter and initializes with the internally stored states and matrices initially set by the user.  <a href="#a0ee09e0a76acfbf37443c26a58ab3100">More...</a><br /></td></tr>
<tr class="separator:a0ee09e0a76acfbf37443c26a58ab3100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c084e0804a0d52e3a32fb5deab03b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a16c084e0804a0d52e3a32fb5deab03b3">kfReset</a> (const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;x0, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;P0, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;Q, const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;R)</td></tr>
<tr class="memdesc:a16c084e0804a0d52e3a32fb5deab03b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset Kalman filter with the given arguments.  <a href="#a16c084e0804a0d52e3a32fb5deab03b3">More...</a><br /></td></tr>
<tr class="separator:a16c084e0804a0d52e3a32fb5deab03b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Discrete Kalman Filter with additive Gaussian noise. </p>
<p>The Kalman filter can be constructed by giving the system design matrices A, B, C and D. where A is the state transition matrix, B is the control input matrix, C is the output matrix and D the feed through matrix. These matrices can be used to describe a stochastic model for a linear dynamical system.</p>
<p class="formulaDsp">
\[ x_{k+1} = A x_{k} + B u_{k} + w_k \]
</p>
 <p class="formulaDsp">
\[ y_{k+1} = C x_{k+1} + D u_{k} + v_k \]
</p>
<p>Once the filter is constructed, the system noise and measurement noise covariance matrices can be set. The filter can be run, after setting initial state and state covariance matrix. The filter init method is called to check if the filter is properly configured and is ready to use.</p>
<dl class="section warning"><dt>Warning</dt><dd>care must be taken to design these matrices with proper dimensions, so that the filter does not crash</dd></dl>
<p>Once the filter is configured, the filter algorithm can be run in a loop by,</p><ul>
<li>setting input vector</li>
<li>prediction step which propagates the state through the modeled state dynamics</li>
<li>setting the measurement vector</li>
<li>correct the predicted states with the incoming measurements </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6e92e6097a9c72d5112dd132d2ea2a0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e92e6097a9c72d5112dd132d2ea2a0c">&#9670;&nbsp;</a></span>DiscreteKalmanFilterHelper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iDynTree::DiscreteKalmanFilterHelper::DiscreteKalmanFilterHelper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa21afff6cf2dbf26aa40456f5f19cd03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa21afff6cf2dbf26aa40456f5f19cd03">&#9670;&nbsp;</a></span>constructKalmanFilter() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::constructKalmanFilter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>D</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Describes the state propagation for a given dynamical system and the measurement model given the available measurements. </p>
<p>If state of the system is denoted by \( x \), the control input by \( u \) and the measurements by \( y \), then the system dynamics is given as \( x_{k+1} = A x_{k} + B u_{k} + w_k \) and the measurement model is given by \( y_{k+1} = C x_{k+1} + D u_{k} + v_k \)</p>
<dl class="section note"><dt>Note</dt><dd>all matrices are assumed to be time-invariant </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A</td><td>state transition matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">B</td><td>control input matrix mapping inputs to states </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">C</td><td>output matrix mapping states to measurements </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">D</td><td>feed through matrix mapping inputs to measurements </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false if filter was constructed successfully or not </dd></dl>

</div>
</div>
<a id="a8a72b101b740dadfc402ec8afb0c1e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a72b101b740dadfc402ec8afb0c1e24">&#9670;&nbsp;</a></span>constructKalmanFilter() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::constructKalmanFilter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>C</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

</div>
</div>
<a id="a3b4495421947a0c45dce66302dea1131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4495421947a0c45dce66302dea1131">&#9670;&nbsp;</a></span>constructKalmanFilter() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::constructKalmanFilter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>C</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

</div>
</div>
<a id="a9352a67f115714e8c1b33fa31bfe35e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9352a67f115714e8c1b33fa31bfe35e4">&#9670;&nbsp;</a></span>kfSetInitialState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfSetInitialState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>x0</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set initial state of the Kalman filter. </p>
<dl class="section warning"><dt>Warning</dt><dd>this method must be called before calling <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a84517077a1e6cda8d31ebc9692c472e6" title="This method checks if the filter is properly constructed and configured i.e. ">kfInit()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x0</td><td>initial state of dimension \( dim_x \times 1 \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="a9d9d8650d8f0f69a75a85cf7297a449c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d9d8650d8f0f69a75a85cf7297a449c">&#9670;&nbsp;</a></span>kfSetStateCovariance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfSetStateCovariance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the state covariance matrix. </p>
<dl class="section warning"><dt>Warning</dt><dd>this method must be called before calling <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a84517077a1e6cda8d31ebc9692c472e6" title="This method checks if the filter is properly constructed and configured i.e. ">kfInit()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">P</td><td>state covariance matrix of dimensions \( dim_x \times dim_x \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="ab827cf616cbc08e7cb4ced4e00454cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab827cf616cbc08e7cb4ced4e00454cdb">&#9670;&nbsp;</a></span>kfSetSystemNoiseCovariance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfSetSystemNoiseCovariance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the system noise covariance matrix. </p>
<dl class="section warning"><dt>Warning</dt><dd>this method must be called before calling <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a84517077a1e6cda8d31ebc9692c472e6" title="This method checks if the filter is properly constructed and configured i.e. ">kfInit()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Q</td><td>system noise covariance matrix of dimensions \( dim_x \times dim_x \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="ab6f38e366f4cdec7dde0d1ef7a07b08a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f38e366f4cdec7dde0d1ef7a07b08a">&#9670;&nbsp;</a></span>kfSetMeasurementNoiseCovariance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfSetMeasurementNoiseCovariance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>R</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the measurement noise covariance matrix. </p>
<dl class="section warning"><dt>Warning</dt><dd>this method must be called before calling <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a84517077a1e6cda8d31ebc9692c472e6" title="This method checks if the filter is properly constructed and configured i.e. ">kfInit()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">R</td><td>measurement covariance matrix of dimensions \( dim_y \times dim_y \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="a84517077a1e6cda8d31ebc9692c472e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84517077a1e6cda8d31ebc9692c472e6">&#9670;&nbsp;</a></span>kfInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method checks if the filter is properly constructed and configured i.e. </p>
<p>if initial states and covariance matrices are set. </p><dl class="section warning"><dt>Warning</dt><dd>this method must be called before calling <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a62d9614df8c118dfc724299580c6b1f2" title="Runs one step of the Discrete Kalman Filter prediction equation described by  . ">kfPredict()</a> or <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a27141bb647a7b20076d054ee4fe0f912" title="Runs one step of the Discrete Kalman Filter update equation described by    where K is the Kalman gai...">kfUpdate()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="acb2a1a9a2b6325fb9607cd03eac3264d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2a1a9a2b6325fb9607cd03eac3264d">&#9670;&nbsp;</a></span>kfSetInputVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfSetInputVector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set inputs for the Kalman filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u</td><td>input vector of dimension \( dim_u \times 1 \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="a62d9614df8c118dfc724299580c6b1f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62d9614df8c118dfc724299580c6b1f2">&#9670;&nbsp;</a></span>kfPredict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfPredict </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs one step of the Discrete Kalman Filter prediction equation described by \( \hat{x}_{k+1} = A x_{k} + B u_{k} \) \( \hat{P}_{k+1} = A_k P_k A_k^T + Q \). </p>
<dl class="section warning"><dt>Warning</dt><dd>this function can be called only after setting up the filter properly through <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a84517077a1e6cda8d31ebc9692c472e6" title="This method checks if the filter is properly constructed and configured i.e. ">kfInit()</a> step </dd></dl>
<dl class="section note"><dt>Note</dt><dd>in case if B matrix is constructed, this function should be once called every step, after setting up the input vector using <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#acb2a1a9a2b6325fb9607cd03eac3264d" title="Set inputs for the Kalman filter. ">kfSetInputVector()</a> method.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false if successful or not </dd></dl>

</div>
</div>
<a id="af31fb466481343f57b98864ba81b2c50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31fb466481343f57b98864ba81b2c50">&#9670;&nbsp;</a></span>kfSetMeasurementVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfSetMeasurementVector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>y</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set measurements for the Kalman filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>input vector of dimension \( dim_y \times 1 \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="a27141bb647a7b20076d054ee4fe0f912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27141bb647a7b20076d054ee4fe0f912">&#9670;&nbsp;</a></span>kfUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs one step of the Discrete Kalman Filter update equation described by \( \tilde{y}_{k+1} = C \hat{x}_{k+1} + D u_{k} \) \( x_{k+1} = \hat{x}_{k+1} + K_{k+1}(\tilde{y}_{k+1} - z_{k+1}) \) \( P_{k+1} = (I - K_{k+1} C) \hat{P}_{k+1} \) where K is the Kalman gain. </p>
<dl class="section warning"><dt>Warning</dt><dd>this function can be called only after setting up the filter properly through <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#a84517077a1e6cda8d31ebc9692c472e6" title="This method checks if the filter is properly constructed and configured i.e. ">kfInit()</a> step </dd></dl>
<dl class="section note"><dt>Note</dt><dd>this function should be once called every step, after setting up the measurements vector using <a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html#af31fb466481343f57b98864ba81b2c50" title="Set measurements for the Kalman filter. ">kfSetMeasurementVector()</a> method.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false if successful or not </dd></dl>

</div>
</div>
<a id="afd296039a06a6d90477648be49b1ddbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd296039a06a6d90477648be49b1ddbf">&#9670;&nbsp;</a></span>kfGetStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfGetStates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get system state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">x</td><td>system state of dimension \( dim_x \times 1 \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="a47b76a7de3f01be1b70cfe792939c321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b76a7de3f01be1b70cfe792939c321">&#9670;&nbsp;</a></span>kfGetStateCovariance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfGetStateCovariance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get system state covariance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">P</td><td>system state covariance matrix of dimension \( dim_x \times dim_x \) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true/false successful or not </dd></dl>

</div>
</div>
<a id="a0ee09e0a76acfbf37443c26a58ab3100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee09e0a76acfbf37443c26a58ab3100">&#9670;&nbsp;</a></span>kfReset() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset Kalman filter Resets the Kalman filter and initializes with the internally stored states and matrices initially set by the user. </p>

</div>
</div>
<a id="a16c084e0804a0d52e3a32fb5deab03b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c084e0804a0d52e3a32fb5deab03b3">&#9670;&nbsp;</a></span>kfReset() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iDynTree::DiscreteKalmanFilterHelper::kfReset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1VectorDynSize.html">iDynTree::VectorDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>P0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1MatrixDynSize.html">iDynTree::MatrixDynSize</a> &amp;&#160;</td>
          <td class="paramname"><em>R</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset Kalman filter with the given arguments. </p>
<dl class="section warning"><dt>Warning</dt><dd>the system matrices A, B, C and D are unchanged with the reset filter</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x0</td><td>initial state vector of dimensions \( dim_x \times 1 \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P</td><td>state covariance matrix of dimensions \( dim_x \times dim_x \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Q</td><td>system noise covariance matrix of dimensions \( dim_x \times dim_x \) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">R</td><td>measurement noise covariance matrix of dimensions \( dim_y \times dim_y \) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="KalmanFilter_8h.html">KalmanFilter.h</a></li>
<li><a class="el" href="KalmanFilter_8cpp.html">KalmanFilter.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiDynTree.html">iDynTree</a></li><li class="navelem"><a class="el" href="classiDynTree_1_1DiscreteKalmanFilterHelper.html">DiscreteKalmanFilterHelper</a></li>
    <li class="footer">Generated on Fri Jan 10 2020 08:54:56 for iDynTree by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
